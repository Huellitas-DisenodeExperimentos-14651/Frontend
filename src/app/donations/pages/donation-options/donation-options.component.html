<div class="donations-wrapper">
  <!-- Encabezado y descripción SOLO si no hay tipo seleccionado -->
  <div *ngIf="!selectedType && userRole === 'ADOPTER'" class="intro">
    <h2>{{ 'DONATION_OPTIONS.headerUser' | translate }}</h2>
    <!-- <p>{{ 'DONATION_OPTIONS.descriptionUser' | translate }}</p> -->
  </div>

  <!-- Encabezado para refugio -->
  <div *ngIf="userRole === 'SHELTER'" class="intro">
    <h2>{{ 'DONATION_OPTIONS.headerRefuge' | translate }}</h2>
    <p>{{ 'DONATION_OPTIONS.descriptionRefuge' | translate }}</p>
  </div>

  <!-- Botón volver -->
  <div *ngIf="userRole === 'ADOPTER' && selectedType" class="back-button-container">
    <button class="back-button" (click)="resetSelection()">
      {{ 'DONATION_OPTIONS.back' | translate }}
    </button>
  </div>

  <p *ngIf="selectedType === 'especie'" class="intro-text" [innerHTML]="'DONATION_OPTIONS.physicalMessage' | translate"></p>

  <!-- Mensaje al elegir donación monetaria -->
  <p *ngIf="selectedType === 'monetaria'" class="intro-text" [innerHTML]="'DONATION_OPTIONS.monetaryMessage' | translate"></p>





  <div class="donation-layout">
    <!-- Campañas SOLO si eres refugio -->
    <div *ngIf="userRole === 'SHELTER'" class="donations-grid">
      <app-donation-card
        *ngFor="let donation of donations"
        [donation]="donation"
        [userRole]="userRole"
        [isPhysical]="false">
      </app-donation-card>
    </div>

    <!-- Botones para elegir tipo de donación SOLO si eres adoptante -->
    <div *ngIf="userRole === 'ADOPTER' && !selectedType" class="donation-selection-wrapper">
      <p class="intro-text" [innerHTML]="'DONATION_OPTIONS.motivationalMessage' | translate"></p>


      <div class="donation-type-buttons">
        <button (click)="goToMonetaryDonations()">
          {{ 'DONATION_OPTIONS.supportMoney' | translate }}
        </button>
        <button (click)="goToPhysicalDonations()">
          {{ 'DONATION_OPTIONS.supportGoods' | translate }}
        </button>
      </div>

    </div>

    <!-- Campañas para adoptante + tabla -->
    <div *ngIf="userRole === 'ADOPTER' && selectedType" class="donation-content">
      <!-- Izquierda: campañas -->
      <div class="donations-grid">
        <app-donation-card
          *ngFor="let donation of donations"
          [donation]="donation"
          [userRole]="userRole"
          [isPhysical]="selectedType === 'especie'">
        </app-donation-card>
      </div>

      <!-- Derecha: tabla de todas las donaciones (solo para donación monetaria) -->
      <ng-container *ngIf="selectedType === 'monetaria' && allDonationRecords && allDonationRecords.length > 0">
        <div class="donation-table-wrapper">
          <h3>{{ 'DONATION_CARD.madeDonations' | translate }}</h3>
          <table>
            <thead>
            <tr>
              <th>{{ 'DONATION_CARD.table.name' | translate }}</th>
              <th>{{ 'DONATION_CARD.table.amount' | translate }}</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let record of allDonationRecords">
              <td>{{ record.donorName }}</td>
              <td>S/. {{ record.amount }}</td>
            </tr>
            </tbody>
          </table>
        </div>
      </ng-container>
    </div>
  </div>
</div>
