<div class="page">

  <h1>{{ 'adoption.title' | translate }}</h1>

  <section class="block">
    <h2>{{ 'adoption.pending' | translate }}</h2>

    <ng-container *ngIf="pending().length; else noPending">
      <app-request-list
        [requests]="pending()"
        [isShelter]="isShelter()"
        (select)="onDecision($event)">
      </app-request-list>
    </ng-container>

    <ng-template #noPending>
      <p class="empty">{{ 'adoption.empty.pending' | translate }}</p>
    </ng-template>
  </section>

  <section class="block">
    <h2>
      {{ 'adoption.interview' | translate }}
      <!-- mostrar indicador '!' si hay entrevistas no vistas y el usuario no es refugio -->
      <span class="unseen-header" *ngIf="!isShelter() && unseenInterviewCount() > 0">!</span>
    </h2>

    <ng-container *ngIf="interview().length; else noInterview">
      <app-request-list
        [requests]="interview()"
        [isShelter]="isShelter()"
        (select)="onDecision($event)"
        (viewed)="onViewed($event)">
      </app-request-list>
    </ng-container>

    <ng-template #noInterview>
      <p class="empty">{{ 'adoption.empty.interview' | translate }}</p>
    </ng-template>
  </section>

  <section class="block">
    <h2>{{ 'adoption.history' | translate }}</h2>

    <ng-container *ngIf="history().length; else noHistory">
      <app-request-list
        [requests]="history()"
        [isShelter]="isShelter()"
        (select)="onDecision($event)">
      </app-request-list>
    </ng-container>

    <ng-template #noHistory>
      <p class="empty">{{ 'adoption.empty.history' | translate }}</p>
    </ng-template>
  </section>

  <div class="toast" *ngIf="toast() as t">{{ t }}</div>

</div>
