html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: 'Roboto', sans-serif;
  background-color: #f4f4f9;
}

body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

app-root {
  display: flex;
  flex-direction: column;
  flex: 1;
}

router-outlet {
  display: block;
}

/* Reglas globales para asegurar que los paneles de mat-select (overlay) sean opacos y legibles */
.cdk-overlay-pane .mat-select-panel,
.cdk-overlay-container .mat-select-panel,
.mat-select-panel {
  background-color: #ffffff !important;
  color: #222 !important;
  border-radius: 8px !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25) !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  background-clip: padding-box !important;
}

.cdk-overlay-pane .mat-select-panel .mat-option,
.cdk-overlay-container .mat-select-panel .mat-option,
.mat-select-panel .mat-option {
  color: #222 !important;
  background-color: transparent !important;
}

.cdk-overlay-pane .mat-select-panel .mat-option.mat-active,
.cdk-overlay-pane .mat-select-panel .mat-option:hover,
.cdk-overlay-container .mat-select-panel .mat-option.mat-active,
.cdk-overlay-container .mat-select-panel .mat-option:hover,
.mat-select-panel .mat-option.mat-active,
.mat-select-panel .mat-option:hover {
  background-color: rgba(255, 152, 0, 0.08) !important; /* hover suave */
}

.cdk-overlay-pane .mat-select-panel .mat-option.mat-selected,
.cdk-overlay-container .mat-select-panel .mat-option.mat-selected,
.mat-select-panel .mat-option.mat-selected {
  background-color: rgba(255,152,0,0.16) !important; /* acento primario ligero */
  color: #ff9800 !important;
}

/* Aumentar z-index del overlay para que quede por encima del contenido si hay solapamientos */
.cdk-overlay-pane,
.cdk-overlay-container {
  z-index: 10000 !important;
  position: relative;
}

/* Asegurar que los paneles de datepicker queden por encima de todo */
.mat-datepicker-content,
.mat-calendar,
.mat-datepicker-popup {
  z-index: 11000 !important;
}

/* Mantener backdrop y popup por debajo de los overlays */
.backdrop { z-index: 2000; }
.popup { z-index: 2100; }

/* Opcional: asegurar que el panel no herede filtros del tema */
.cdk-overlay-pane .mat-select-panel,
.cdk-overlay-container .mat-select-panel {
  filter: none !important;
  mix-blend-mode: normal !important;
}

/* fin de reglas globales para mat-select */

/* When a modal is open we add `app-modal-open` to body. Estas reglas evitan que el contenido de fondo sea interactivo y lo atenúan mediante el backdrop. */
.app-modal-open {
  overflow: hidden !important;
}

.app-modal-open .page,
.app-modal-open router-outlet,
.app-modal-open app-root {
  /* No atenuar por opacidad global: usar el backdrop para oscurecer el fondo y mantener popup nítido */
  pointer-events: none; /* bloquea clicks en el fondo */
  user-select: none;
}

/* Excluir el popup y los overlays — deben seguir siendo interactivos */
.app-modal-open .popup,
.app-modal-open .cdk-overlay-container,
.app-modal-open .cdk-overlay-pane {
  filter: none !important;
  pointer-events: auto !important;
  opacity: 1 !important; /* asegurar que popup y overlays se vean sin atenuación */
}

/* Aumentar la oscuridad del backdrop para mejor contraste */
.backdrop {
  background: rgba(0,0,0,0.6);
}
